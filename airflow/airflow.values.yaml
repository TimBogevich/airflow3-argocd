airflow:
  fernetKey: 'dGVzdA=='

  airflowVersion: '3.0.2'
  defaultAirflowTag: "3.0.2-python3.11"


  useStandardNaming: true

  ingress:
    enabled: true
    web:
      annotations:
        kubernetes.io/ingress.class: nginx
      host: airflow.local
      tls:
        enabled: false

  createUserJob:
    applyCustomEnv: false
    useHelmHooks: false

  migrateDatabaseJob:
    applyCustomEnv: false
    jobAnnotations:
      'argocd.argoproj.io/hook': Sync
    useHelmHooks: false


  dags:
    gitSync:
      enabled: true
      repo: https://gitlab.goodsforecast.ru/integration/etl2/etl-product.git
      branch: develop
      rev: HEAD
      depth: 4
      subPath: "."
    #
      #
      # If you are using an ssh clone url, you can load
      # the ssh private key to a k8s secret like the one below
      #   ---
      #   apiVersion: v1
      #   kind: Secret
      #   metadata:
      #     name: airflow-ssh-secret
      #   data:
      #     # key needs to be gitSshKey
      #     gitSshKey: <base64_encoded_data>
      # and specify the name of the secret below
      sshKeySecret: airflow-ssh-secret
      #
      # Or set sshKeySecret with your key
      # sshKey: |-
      #   -----BEGIN {OPENSSH PRIVATE KEY}-----
      #   ...
      #   -----END {OPENSSH PRIVATE KEY}-----
      #
      # If you are using an ssh private key, you can additionally
      # specify the content of your known_hosts file, example:
      #
      # knownHosts: |
      #    <host1>,<ip1> <key1>
      #    <host2>,<ip2> <key2>

      # interval between git sync attempts in seconds
      # high values are more likely to cause DAGs to become out of sync between different components
      # low values cause more traffic to the remote git repository
      # Go-style duration string (e.g. "100ms" or "0.1s" = 100ms).
      # For backwards compatibility, wait will be used if it is specified.
      period: 5s
      wait: ~
      # add variables from secret into gitSync containers, such proxy-config
      envFrom: ~
      # envFrom: |
      #   - secretRef:
      #       name: 'proxy-config'

      containerName: git-sync
      uid: 65533
